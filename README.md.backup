# KeeperCheky

> Modern web-based media library cleanup manager - A complete rewrite of Janitorr with a beautiful UI

[![stable](https://img.shields.io/github/actions/workflow/status/carcheky/keepercheky/release.yml?branch=stable&label=stable&logo=github)](https://github.com/carcheky/keepercheky/actions/workflows/release.yml)
[![stable version](https://img.shields.io/github/v/release/carcheky/keepercheky?label=stable)](https://github.com/carcheky/keepercheky/releases)
[![develop](https://img.shields.io/github/actions/workflow/status/carcheky/keepercheky/release.yml?branch=develop&label=develop&logo=github)](https://github.com/carcheky/keepercheky/actions/workflows/release.yml)
[![develop version](https://img.shields.io/github/v/release/carcheky/keepercheky?include_prereleases&label=develop&filter=*-dev*)](https://github.com/carcheky/keepercheky/releases)
[![Docker Image](https://img.shields.io/badge/docker-ghcr.io-blue?logo=docker)](https://github.com/carcheky/keepercheky/pkgs/container/keepercheky)
[![License](https://img.shields.io/badge/license-MIT-blue)](LICENSE)
[![Go Version](https://img.shields.io/github/go-mod/go-version/carcheky/keepercheky)](go.mod)

## ğŸ“– What is KeeperCheky?

KeeperCheky is a complete rewrite of [Janitorr](https://github.com/Schaka/janitorr) with a modern web interface. It automatically manages and cleans up your media library by removing old or unwatched content based on configurable rules.

### Key Features

- ğŸ¨ **Modern Web UI** - Beautiful dashboard accessible from any browser
- ğŸ§¹ **Automated Cleanup** - Smart deletion based on age and disk space
- ğŸ·ï¸ **Tag-based Rules** - Custom cleanup schedules using Radarr/Sonarr tags
- ğŸ“º **Series Management** - Special handling for weekly/daily shows
- â° **Leaving Soon** - Preview content before deletion in Jellyfin/Emby
- ğŸ”— **Full Integration** - Works with Radarr, Sonarr, Jellyfin, Emby, Jellyseerr
- ğŸ³ **Docker Ready** - Easy deployment with Docker Compose
- ğŸ”’ **Safe Mode** - Dry-run by default to prevent accidents

## ğŸ¯ Project Status

**Current Phase**: ğŸš€ Active Development - v1.0.0-dev.17

El proyecto estÃ¡ en desarrollo activo con la mayorÃ­a de las caracterÃ­sticas principales implementadas. Basado en **Go + Alpine.js** (Propuesta 3) para rendimiento Ã³ptimo y uso mÃ­nimo de recursos.

### Documentation

ğŸ“š **[Start Here: Documentation Index](docs/README.md)**

Quick links:
- [Executive Summary](docs/RESUMEN_EJECUTIVO.md) - Project overview and analysis
- [Maintainerr Analysis](docs/ANALISIS_MAINTAINERR.md) - Evaluation of similar projects ğŸ†•
- [Quick Comparison](docs/RESUMEN_COMPARATIVO.md) - Janitorr vs Maintainerr vs KeeperCheky ğŸ†•
- [Detailed Comparison](docs/COMPARACION_Y_RECOMENDACIONES.md) - Stack analysis and recommendations
- [Proposals](docs/propuestas/) - 4 complete technical proposals

## ğŸ—ï¸ Proposed Architecture

Hemos desarrollado **4 propuestas completas** con diferentes stacks tecnolÃ³gicos. La propuesta seleccionada e implementada es la **Propuesta 3: Go + Alpine.js**.

### 1. TypeScript Full-Stack (Next.js + NestJS)
- **Best for**: Modern UX, scalability
- **Resources**: 512MB-1GB RAM
- **Development**: 4-6 weeks

### 2. Python/HTMX (FastAPI + HTMX)
- **Best for**: Simplicity, rapid development
- **Resources**: 50-150MB RAM
- **Development**: 3-4 weeks

### 3. Go/Alpine.js (Fiber + Alpine) â­ **RECOMMENDED**
- **Best for**: Performance, minimal resources
- **Resources**: 20-50MB RAM
- **Development**: 3-4 weeks
- **Docker image**: 15-25MB

### 4. Rust/Leptos (Axum + WASM)
- **Best for**: Maximum security, long-term projects
- **Resources**: 30-80MB RAM
- **Development**: 5-7 weeks

## ğŸš€ Recommended Implementation

### Why Go + Alpine.js? âœ… IMPLEMENTADO

1. âœ… **Balance Ã³ptimo** - Rendimiento meets recursos
2. âœ… **Huella mÃ­nima** - 30-60MB RAM, imagen Docker tiny
3. âœ… **Despliegue fÃ¡cil** - Binario Ãºnico, sin dependencias
4. âœ… **Desarrollo rÃ¡pido** - MVP en 4 semanas
5. âœ… **Escalable** - Goroutines para concurrencia

Ver [Documento de ComparaciÃ³n](docs/COMPARACION_Y_RECOMENDACIONES.md) para anÃ¡lisis detallado.

## ğŸ“Š Comparison with Similar Projects

| Feature              | Janitorr        | Maintainerr                   | KeeperCheky (Actual) |
| -------------------- | --------------- | ----------------------------- | -------------------- |
| **Web Interface**    | âŒ               | âœ…                             | âœ…                    |
| **Stack**            | Kotlin + Spring | TypeScript + NestJS + Next.js | **Go + Alpine.js** âœ… |
| **Docker Image**     | ~300MB          | ~500MB                        | **~25MB** âœ…          |
| **RAM Usage**        | ~256MB          | ~400-600MB                    | **~30-60MB** âœ…       |
| **Startup Time**     | ~10-15s         | ~15-25s                       | **<2s** âœ…            |
| **Jellyfin Support** | âœ…               | âŒ                             | âœ…                    |
| **Plex Support**     | âŒ               | âœ…                             | â³ (planned)          |
| **Radarr/Sonarr**    | âœ…               | âœ…                             | âœ…                    |
| **Jellyseerr**       | âœ…               | âœ… (Overseerr)                 | âœ…                    |
| **qBittorrent**      | âŒ               | âŒ                             | âœ…                    |
| **Bazarr**           | âŒ               | âŒ                             | âœ…                    |
| **Rule Builder**     | Config file     | âœ… Visual                      | ğŸš§ In progress        |
| **Leaving Soon**     | âŒ               | âœ… Collections                 | âœ… Symlinks           |
| **File Health**      | âŒ               | âŒ                             | âœ… Advanced           |

**Ver [comparaciÃ³n detallada](docs/RESUMEN_COMPARATIVO.md) para mÃ¡s informaciÃ³n.**

## ğŸ¨ Planned Features

### âœ… Dashboard (Implementado)
- âœ… EstadÃ­sticas de uso de disco en tiempo real
- âœ… Monitoreo de salud de servicios
- âœ… Vista previa de prÃ³ximas eliminaciones
- âœ… Timeline de actividad reciente
- âœ… Widgets de Jellyseerr y Jellystat

### âœ… GestiÃ³n de Medios (Implementado)
- âœ… Navegador visual de biblioteca con posters
- âœ… Filtrado y bÃºsqueda avanzada
- âœ… ExclusiÃ³n/eliminaciÃ³n con un clic
- âœ… InformaciÃ³n detallada de medios
- âœ… EliminaciÃ³n masiva

### âœ… Salud de Archivos (Implementado)
- âœ… AnÃ¡lisis de salud del almacenamiento
- âœ… DetecciÃ³n de huÃ©rfanos y problemas
- âœ… Acciones de limpieza sugeridas
- âœ… ImportaciÃ³n a Radarr/Sonarr
- âœ… Acciones masivas

### ğŸš§ ProgramaciÃ³n de Limpiezas (En Desarrollo)
- â³ Crear/editar/eliminar schedules desde UI
- â³ Vista previa de quÃ© se eliminarÃ¡
- â³ EjecuciÃ³n manual con confirmaciÃ³n
- â³ Habilitar/deshabilitar schedules

### âœ… ConfiguraciÃ³n (Implementado)
- âœ… Formularios de configuraciÃ³n de servicios
- âœ… Prueba de conexiÃ³n en tiempo real
- âœ… ValidaciÃ³n de rutas
- âœ… Vista de estado de servicios

### ğŸš§ Logs e Historial (En Desarrollo)
- â³ Streaming de logs en vivo
- â³ Filtrado por nivel (INFO, ERROR, etc.)
- â³ BÃºsqueda y exportaciÃ³n
- âœ… Historial completo de acciones

## ğŸ› ï¸ Technology Stack (Implemented)

**Backend:**
- Go 1.22+ âœ…
- Fiber v2 (web framework) âœ…
- GORM v2 (ORM) âœ…
- SQLite/PostgreSQL âœ…
- robfig/cron v3 (scheduler) âœ…
- go-resty/resty v2 (HTTP client) âœ…

**Frontend:**
- Alpine.js 3.x (15kb reactive framework) âœ…
- Tailwind CSS âœ…
- Chart.js (dashboards y grÃ¡ficos) âœ…

**Integraciones:**
- Radarr API v3 âœ…
- Sonarr API v3 âœ…
- Jellyfin API âœ…
- Jellyseerr/Overseerr API âœ…
- qBittorrent Web API âœ…
- Bazarr API âœ…
- Jellystat API âœ…

**DevOps:**
- Docker (multi-stage builds) âœ…
- Single static binary âœ…
- Imagen final: ~20-30MB âœ…
- GitHub Actions CI/CD âœ…
- Semantic Release âœ…

## ğŸ“¦ Installation

### Quick Start (ProducciÃ³n)

```bash
# Usando Docker Compose (recomendado)
cd quickstart
cp .env.example .env
# Editar .env con tus configuraciones
docker-compose up -d

# Acceder a la aplicaciÃ³n
# http://localhost:8780
```

### Desarrollo

```bash
# Clonar repositorio
git clone https://github.com/carcheky/keepercheky.git
cd keepercheky

# Iniciar entorno de desarrollo
make init
make dev

# Acceder a la aplicaciÃ³n
# http://localhost:8000
```

### Docker Manual

```bash
docker run -d \
  --name keepercheky \
  -p 8000:8000 \
  -v ./config:/config \
  -v ./data:/data \
  -v /path/to/media:/media \
  ghcr.io/carcheky/keepercheky:latest
```

Ver [quickstart/README.md](quickstart/README.md) para instrucciones detalladas.

## ğŸ”§ Configuration Example

```yaml
# config/config.yaml
app:
  environment: production
  log_level: info
  dry_run: true              # âš ï¸ IMPORTANTE: Mantener en true hasta estar seguro
  leaving_soon_days: 14
  scheduler_enabled: false   # Deshabilitar hasta configurar bien

server:
  port: "8000"
  host: "0.0.0.0"

database:
  type: sqlite               # o postgres para producciÃ³n
  path: ./data/keepercheky.db

clients:
  radarr:
    enabled: true
    url: "http://radarr:7878"
    api_key: "tu-api-key-aqui"
    
  sonarr:
    enabled: true
    url: "http://sonarr:8989"
    api_key: "tu-api-key-aqui"
    
  jellyfin:
    enabled: true
    url: "http://jellyfin:8096"
    api_key: "tu-api-key-aqui"
    username: "admin"
    password: "tu-password"
  
  jellyseerr:
    enabled: false
    url: "http://jellyseerr:5055"
    api_key: "tu-api-key-aqui"
  
  qbittorrent:
    enabled: false
    url: "http://qbittorrent:8080"
    username: "admin"
    password: "adminadmin"
  
  bazarr:
    enabled: false
    url: "http://bazarr:6767"
    api_key: "tu-api-key-aqui"
  
  jellystat:
    enabled: false
    url: "http://jellystat:3000"
    api_key: "tu-api-key-aqui"
```

Ver [.env.example](.env.example) para configuraciÃ³n con variables de entorno.

## ğŸ—ºï¸ Roadmap

### Phase 1: MVP (Semanas 1-4) - âœ… 90% COMPLETADO
- [x] Estructura del proyecto
- [x] Backend core + modelos de base de datos
- [x] Clientes de servicios (Radarr, Sonarr, Jellyfin, Jellyseerr, Bazarr, qBittorrent, Jellystat)
- [x] UI bÃ¡sica con Alpine.js
- [x] Dashboard con estadÃ­sticas en tiempo real
- [x] PÃ¡gina de gestiÃ³n de archivos con anÃ¡lisis de salud
- [x] PÃ¡gina de gestiÃ³n de medios
- [x] PÃ¡gina de configuraciÃ³n con prueba de conexiones
- [ ] LÃ³gica de limpieza completa
- [ ] Sistema de programaciÃ³n de tareas

### Phase 2: Features (Semanas 5-6) - ğŸš§ EN PROGRESO
- [x] IntegraciÃ³n completa de todos los servicios
- [ ] GestiÃ³n de schedules desde UI
- [x] PÃ¡gina de configuraciÃ³n completa
- [ ] Visor de logs en tiempo real
- [ ] OptimizaciÃ³n de Docker

### Phase 3: Pulido (Semana 7) - â³ PENDIENTE
- [ ] Testing completo
- [ ] DocumentaciÃ³n final
- [ ] PublicaciÃ³n en Docker Hub
- [ ] Release 1.0.0

## ï¿½ AI Agent Development

This project includes comprehensive instructions for AI coding agents like GitHub Copilot:

- **[AGENTS.md](AGENTS.md)** - Practical guide for Copilot Coding Agent with commands and workflows
- **[.github/copilot-instructions.md](.github/copilot-instructions.md)** - Detailed project guidelines and architecture patterns

These files help AI agents understand the project structure, development workflows, and critical safety rules.

## ï¿½ğŸ¤ Contributing

This project is currently in the planning phase. Contributions will be welcome once we start implementation.

### Interested in helping?

1. Review the [technical proposals](docs/propuestas/)
2. Share your thoughts on the [recommended stack](docs/COMPARACION_Y_RECOMENDACIONES.md)
3. Check out [AGENTS.md](AGENTS.md) for development guidelines
4. Star this repo to stay updated

## ğŸ“ License

MIT License - See [LICENSE](LICENSE) file for details

## ğŸ™ Acknowledgments

- **[Janitorr](https://github.com/Schaka/janitorr)** - Original project that inspired this rewrite
- **[Maintainerr](https://github.com/jorenn92/Maintainerr)** - Reference for UI/UX and advanced features
- All the *arr projects (Radarr, Sonarr, etc.)
- Jellyfin and Emby communities

## ğŸ“ Links

- **Documentation**: [docs/README.md](docs/README.md)
- **Proposals**: [docs/propuestas/](docs/propuestas/)
- **Comparisons**: [docs/RESUMEN_COMPARATIVO.md](docs/RESUMEN_COMPARATIVO.md)
- **Janitorr Original**: [github.com/Schaka/janitorr](https://github.com/Schaka/janitorr)
- **Maintainerr**: [github.com/jorenn92/Maintainerr](https://github.com/jorenn92/Maintainerr)

---

**Note**: This is a rewrite/reimplementation project combining the best features of Janitorr (cleanup logic) and Maintainerr (beautiful UI), optimized for minimal resource usage with Go + Alpine.js.

**Status**: ğŸš€ MVP Implementation in progress - [Development Guide](DEVELOPMENT.md)

